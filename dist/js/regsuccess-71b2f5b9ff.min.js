function http(e){e=e||{};var t="https://m.sit.nonobank.com",n=/nonobank.com|mingxiaodai.com/.test(location.host)?location.protocol+"//"+location.host+(location.port?":"+location.port:""):t;n+="/feserver";var r=axios.create({baseURL:e.host||n,timeout:e.timeout||5e3}),o=new Event("loading"),i=new Event("loaded");return r.defaults.headers.common["Content-Type"]="application/json",r.interceptors.request.use(function(e){if(e.isJwt){var t=sessionStorage.getItem("invite-jwt");e.headers.jwt=t}if(e.silence||document.dispatchEvent(o),!e.isTime){var n=new EncryptSign;"get"==e.method?e.params=n.sign(e.params):e.data=n.sign(e.data)}return e},function(e){return Promise.reject(e)}),r.interceptors.response.use(function(e){return document.dispatchEvent(i),e.data},function(e){var e=new CustomEvent("error",{detail:"网络不给力呦~"});return e.response&&404===e.response.status?void document.dispatchEvent(e):void 0==e.response?void document.dispatchEvent(e):Promise.reject(e)}),r}!function(){function e(){var e=String.prototype.replace,t=/%20/g;return{"default":"RFC3986",formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}function t(){var e=this,t=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();return e.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},e.merge=function(n,r,o){if(!r)return n;if("object"!=typeof r){if(Array.isArray(n))n.push(r);else{if("object"!=typeof n)return[n,r];(o.plainObjects||o.allowPrototypes||!t.call(Object.prototype,r))&&(n[r]=!0)}return n}if("object"!=typeof n)return[n].concat(r);var i=n;return Array.isArray(n)&&!Array.isArray(r)&&(i=e.arrayToObject(n,o)),Array.isArray(n)&&Array.isArray(r)?(r.forEach(function(r,i){t.call(n,i)?n[i]&&"object"==typeof n[i]?n[i]=e.merge(n[i],r,o):n.push(r):n[i]=r}),n):Object.keys(r).reduce(function(t,n){var i=r[n];return Object.prototype.hasOwnProperty.call(t,n)?t[n]=e.merge(t[n],i,o):t[n]=i,t},i)},e.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},e.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var r=n||[],o=r.indexOf(t);if(o!==-1)return r[o];if(r.push(t),Array.isArray(t)){for(var i=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?i.push(e.compact(t[a],r)):"undefined"!=typeof t[a]&&i.push(t[a]);return i}var c=Object.keys(t);return c.forEach(function(n){t[n]=e.compact(t[n],r)}),t},e.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},e.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},e}function n(){var n=e(),r=t(),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},c=function u(e,t,n,o,i,a,c,s,f,l,d,p){var y=e;if("function"==typeof c)y=c(t,y);else if(y instanceof Date)y=l(y);else if(null===y){if(o)return a&&!p?a(t):t;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||r.isBuffer(y)){if(a){var m=p?t:a(t);return[d(m)+"="+d(a(y))]}return[d(t)+"="+d(String(y))]}var v=[];if("undefined"==typeof y)return v;var g;if(Array.isArray(c))g=c;else{var h=Object.keys(y);g=s?h.sort(s):h}for(var w=0;w<g.length;++w){var b=g[w];i&&null===y[b]||(v=Array.isArray(y)?v.concat(u(y[b],n(t,b),n,o,i,a,c,s,f,l,d,p)):v.concat(u(y[b],t+(f?"."+b:"["+b+"]"),n,o,i,a,c,s,f,l,d,p)))}return v};return function(e,t){var r=e,i=t||{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"==typeof i.delimiter?a.delimiter:i.delimiter,s="boolean"==typeof i.strictNullHandling?i.strictNullHandling:a.strictNullHandling,f="boolean"==typeof i.skipNulls?i.skipNulls:a.skipNulls,l="boolean"==typeof i.encode?i.encode:a.encode,d="function"==typeof i.encoder?i.encoder:a.encoder,p="function"==typeof i.sort?i.sort:null,y="undefined"!=typeof i.allowDots&&i.allowDots,m="function"==typeof i.serializeDate?i.serializeDate:a.serializeDate,v="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:a.encodeValuesOnly;if("undefined"==typeof i.format)i.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,i.format))throw new TypeError("Unknown format option provided.");var g,h,w=n.formatters[i.format];"function"==typeof i.filter?(h=i.filter,r=h("",r)):Array.isArray(i.filter)&&(h=i.filter,g=h);var b=[];if("object"!=typeof r||null===r)return"";var E;E=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var j=o[E];g||(g=Object.keys(r)),p&&g.sort(p);for(var C=0;C<g.length;++C){var A=g[C];f&&null===r[A]||(b=b.concat(c(r[A],A,j,s,f,l?d:null,h,p,y,m,w,v)))}return b.join(u)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var r={stringify:n()};window.qs=r}(),function(){function e(e,t){return e.localeCompare(t)}function t(e){var t=sessionStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t}}function n(){this.keyName=[[115,105,103,110,97,116,117,114,101],[110,111,110,99,101,115,116,114],[97,112,112,73,100],[116,105,109,101,115,116,97,109,112]]}n.prototype.getKeyName=function(e){for(var t="",n=0;n<this.keyName[e].length;n++)t+=String.fromCharCode(this.keyName[e][n]);return t},n.prototype.sign=function(n){n=n||{},n[this.getKeyName(1)]=Math.random().toString(36).substr(2,15),n[this.getKeyName(3)]=Date.now()+ +t("invite-offsetTime");var r=qs.stringify(n,{allowDots:!0,arrayFormat:"repeat",sort:e,encode:!0});return n[this.getKeyName(2)]="nono",r+=md5(n[this.getKeyName(2)]).substr(7,16),n[this.getKeyName(0)]=md5(r),n},window.EncryptSign=n}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}try{new Event("test")}catch(t){window.Event=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),function(){function e(){if(""==window.location.search)return!1;for(var e={},t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof e[o[0]]){var i=[e[o[0]],decodeURIComponent(o[1])];e[o[0]]=i}else e[o[0]].push(decodeURIComponent(o[1]))}return e}var t,n,r,o=navigator.userAgent.toLowerCase(),i=o.toLowerCase().indexOf("android")>-1||o.toLowerCase().indexOf("adr")>-1,a=/micromessenger/.test(o),c=e().balance||"",u=new http,s=new Vue({el:"#app",data:{hasBalance:!1,waiting:!0,amount:"",invitees:[],getListCount:0},methods:{init:function(){var e=this;if(+c)return s.hasBalance=!0,setTimeout(function(){n=document.getElementById("odometer")},0),s.odometerFn(),void e.getList()},download:function(){return _czc.push(["_trackEvent","注册成功页","点击","第一个下载按钮"]),a?void(window.location.href="https://m.nonobank.com/appdown/downapp.html?type=nonobank"):i?void(window.location.href="https://m.nonobank.com/appdown/nonobank.apk"):void(window.location.href="https://itunes.apple.com/cn/app/nuo-nuo-bang-ke/id982437433?mt=8")},getList:function(){return s.getListCount>=2?(s.amount=0,s.invitees=[],void s.clearTimer()):(s.getListCount++,void u.get("/activity/nono-envoy/registerSuccessInvoke",{isJwt:!0}).then(function(e){if(e&&e.succeed){var t=e.data;if(s.amount=t.amount,s.waiting=t.waiting,s.invitees=t.invitees,t.invitees.length)for(var n=0;n<t.invitees.length;n++)t.invitees[n].mobile=s.splicePhone(String(t.invitees[n].mobile));s.waiting?r=setTimeout(function(){s.getList()},1e4):s.clearTimer(s.amount)}}))},splicePhone:function(e){var t=/(\d{3})\d{4}(\d{4})/,n=e.replace(t,"$1****$2");return n},gotoTop:function(){_czc.push(["_trackEvent","注册成功页","点击","第二个下载按钮"]),document.getElementById("banner").scrollIntoView()},odometerFn:function(){t=setInterval(function(){n.innerHTML=0,setTimeout(function(){n.innerHTML=888},0)},500)},clearTimer:function(e){n.innerHTML=e||0,clearInterval(t),clearTimeout(r),t=null,r=null,setTimeout(function(){n.innerHTML=e||0},1e3)}}});s.init()}();
//# sourceMappingURL=../map/js/regsuccess-71b2f5b9ff.min.js.map
