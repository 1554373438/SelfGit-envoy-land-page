{"version":3,"sources":["js/index.min.js"],"names":["http","options","TEST_HOST","HOST","test","location","host","protocol","port","instance","axios","create","baseURL","timeout","loading","Event","loaded","defaults","headers","common","interceptors","request","use","config","isJwt","jwt","sessionStorage","getItem","silence","document","dispatchEvent","isTime","encryptSign","EncryptSign","method","params","sign","data","error","Promise","reject","response","CustomEvent","detail","status","undefined","format","replace","String","prototype","percentTwenties","default","formatters","RFC1738","value","call","RFC3986","utils","self","this","has","Object","hasOwnProperty","hexTable","array","i","push","toString","toUpperCase","arrayToObject","source","obj","plainObjects","length","merge","target","Array","isArray","allowPrototypes","concat","mergeTarget","forEach","item","keys","reduce","acc","key","decode","str","decodeURIComponent","e","encode","string","out","c","charCodeAt","charAt","compact","references","refs","lookup","indexOf","compacted","isRegExp","isBuffer","constructor","stringify","formats","_utils","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","Date","toISOString","delimiter","encoder","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","object","generateArrayPrefix","filter","sort","allowDots","formatter","keyValue","values","objKeys","opts","TypeError","arrayFormat","join","arg","qs","window","alphabeticalSort","a","b","localeCompare","getSession","name","JSON","parse","keyName","getKeyName","idx","ret","fromCharCode","Math","random","substr","now","md5","event","bubbles","cancelable","evt","createEvent","initCustomEvent","eventName","initEvent","setSession","setItem","Storage","_setItem","alert","getSearch","search","query_string","query","substring","vars","split","pair","arr","eventListener","type","handler","addEventListener","attachEvent","vm","toastMsg","isLoading","uuid","ua","navigator","userAgent","toLowerCase","am_id","approach","approach2","approach3","inviteMobile","regtime","balance","errortype","timer","codeSentTime","tokenId","localStorage","$http","Vue","component","props","show","Boolean","template","directive","inserted","el","binding","focus","componentUpdated","modifiers","lazy","oldValue","user","phone","codeImg","codeMsg","agreement","imgSrc","timeCount","isImgCode","limTime","isWelfare","errorMsg","focusStatus","amount","invitees","watch","user.phone","val","oldval","checkPhone","get","then","res","succeed","exists","setTimeout","clearTimeout","refreshCaptcha","user.codeImg","captcha","valid","getCode","methods","init","_this","getTime","setTime","timestamp","timeSys","offsetTime","errorMessage","req","clearError","countDown","t","mobile","codeType","post","doRegister","vcode","amId","href","errorCode","submit","_czc"],"mappings":"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","file":"../../js/index-27cda6247e.min.js","sourcesContent":["(function() {\n  if (!Array.isArray) {\n    Array.isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n  }\n\n  function format() {\n    var replace = String.prototype.replace;\n    var percentTwenties = /%20/g;\n\n    return {\n      'default': 'RFC3986',\n      formatters: {\n        RFC1738: function(value) {\n          return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function(value) {\n          return value;\n        }\n      },\n      RFC1738: 'RFC1738',\n      RFC3986: 'RFC3986'\n    };\n  }\n\n  function utils() {\n    var self = this;\n    var has = Object.prototype.hasOwnProperty;\n\n    var hexTable = (function() {\n      var array = [];\n      for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n      }\n\n      return array;\n    }());\n\n    self.arrayToObject = function(source, options) {\n      var obj = options && options.plainObjects ? Object.create(null) : {};\n      for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n          obj[i] = source[i];\n        }\n      }\n\n      return obj;\n    };\n\n    self.merge = function(target, source, options) {\n      if (!source) {\n        return target;\n      }\n\n      if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n          target.push(source);\n        } else if (typeof target === 'object') {\n          if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n            target[source] = true;\n          }\n        } else {\n          return [target, source];\n        }\n\n        return target;\n      }\n\n      if (typeof target !== 'object') {\n        return [target].concat(source);\n      }\n\n      var mergeTarget = target;\n      if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = self.arrayToObject(target, options);\n      }\n\n      if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function(item, i) {\n          if (has.call(target, i)) {\n            if (target[i] && typeof target[i] === 'object') {\n              target[i] = self.merge(target[i], item, options);\n            } else {\n              target.push(item);\n            }\n          } else {\n            target[i] = item;\n          }\n        });\n        return target;\n      }\n\n      return Object.keys(source).reduce(function(acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n          acc[key] = self.merge(acc[key], value, options);\n        } else {\n          acc[key] = value;\n        }\n        return acc;\n      }, mergeTarget);\n    };\n\n    self.decode = function(str) {\n      try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n      } catch (e) {\n        return str;\n      }\n    };\n\n    self.encode = function(str) {\n      // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n      // It has been adapted here for stricter adherence to RFC 3986\n      if (str.length === 0) {\n        return str;\n      }\n\n      var string = typeof str === 'string' ? str : String(str);\n\n      var out = '';\n      for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n          c === 0x2D || // -\n          c === 0x2E || // .\n          c === 0x5F || // _\n          c === 0x7E || // ~\n          (c >= 0x30 && c <= 0x39) || // 0-9\n          (c >= 0x41 && c <= 0x5A) || // a-z\n          (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n          out += string.charAt(i);\n          continue;\n        }\n\n        if (c < 0x80) {\n          out = out + hexTable[c];\n          continue;\n        }\n\n        if (c < 0x800) {\n          out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n          continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n          out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n          continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n      }\n\n      return out;\n    };\n\n    self.compact = function(obj, references) {\n      if (typeof obj !== 'object' || obj === null) {\n        return obj;\n      }\n\n      var refs = references || [];\n      var lookup = refs.indexOf(obj);\n      if (lookup !== -1) {\n        return refs[lookup];\n      }\n\n      refs.push(obj);\n\n      if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n          if (obj[i] && typeof obj[i] === 'object') {\n            compacted.push(self.compact(obj[i], refs));\n          } else if (typeof obj[i] !== 'undefined') {\n            compacted.push(obj[i]);\n          }\n        }\n\n        return compacted;\n      }\n\n      var keys = Object.keys(obj);\n      keys.forEach(function(key) {\n        obj[key] = self.compact(obj[key], refs);\n      });\n\n      return obj;\n    };\n\n    self.isRegExp = function(obj) {\n      return Object.prototype.toString.call(obj) === '[object RegExp]';\n    };\n\n    self.isBuffer = function(obj) {\n      if (obj === null || typeof obj === 'undefined') {\n        return false;\n      }\n\n      return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n    };\n\n    return self;\n  }\n\n  function stringify() {\n    var formats = format();\n    var _utils = utils();\n    var arrayPrefixGenerators = {\n      brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n      },\n      indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n      },\n      repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n      }\n    };\n\n    var toISO = Date.prototype.toISOString;\n\n    var defaults = {\n      delimiter: '&',\n      encode: true,\n      encoder: _utils.encode,\n      encodeValuesOnly: false,\n      serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n      },\n      skipNulls: false,\n      strictNullHandling: false\n    };\n\n    var stringify = function stringify( // eslint-disable-line func-name-matching\n      object,\n      prefix,\n      generateArrayPrefix,\n      strictNullHandling,\n      skipNulls,\n      encoder,\n      filter,\n      sort,\n      allowDots,\n      serializeDate,\n      formatter,\n      encodeValuesOnly\n    ) {\n      var obj = object;\n      if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n      } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n      } else if (obj === null) {\n        if (strictNullHandling) {\n          return encoder && !encodeValuesOnly ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n      }\n\n      if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || _utils.isBuffer(obj)) {\n        if (encoder) {\n          var keyValue = encodeValuesOnly ? prefix : encoder(prefix);\n          return [formatter(keyValue) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n      }\n\n      var values = [];\n\n      if (typeof obj === 'undefined') {\n        return values;\n      }\n\n      var objKeys;\n      if (Array.isArray(filter)) {\n        objKeys = filter;\n      } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n      }\n\n      for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n          continue;\n        }\n\n        if (Array.isArray(obj)) {\n          values = values.concat(stringify(\n            obj[key],\n            generateArrayPrefix(prefix, key),\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n          ));\n        } else {\n          values = values.concat(stringify(\n            obj[key],\n            prefix + (allowDots ? '.' + key : '[' + key + ']'),\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n          ));\n        }\n      }\n\n      return values;\n    };\n\n    return function(object, opts) {\n      var obj = object;\n      var options = opts || {};\n\n      if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n      }\n\n      var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n      var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n      var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n      var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n      var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n      var sort = typeof options.sort === 'function' ? options.sort : null;\n      var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n      var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n      var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n      if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n      } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n      }\n      var formatter = formats.formatters[options.format];\n      var objKeys;\n      var filter;\n\n      if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n      } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n      }\n\n      var keys = [];\n\n      if (typeof obj !== 'object' || obj === null) {\n        return '';\n      }\n\n      var arrayFormat;\n      if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n      } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n      } else {\n        arrayFormat = 'indices';\n      }\n\n      var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n      if (!objKeys) {\n        objKeys = Object.keys(obj);\n      }\n\n      if (sort) {\n        objKeys.sort(sort);\n      }\n\n      for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n          continue;\n        }\n\n        keys = keys.concat(stringify(\n          obj[key],\n          key,\n          generateArrayPrefix,\n          strictNullHandling,\n          skipNulls,\n          encode ? encoder : null,\n          filter,\n          sort,\n          allowDots,\n          serializeDate,\n          formatter,\n          encodeValuesOnly\n        ));\n      }\n\n      return keys.join(delimiter);\n    };\n\n  }\n\n  var qs = {\n    stringify: stringify()\n  }\n\n  window.qs = qs;\n})();\n\n(function(){\n  function alphabeticalSort(a, b) {\n    return a.localeCompare(b);\n  }\n\n  function getSession(name) {\n    var data = sessionStorage.getItem(name);\n    try {\n      return JSON.parse(data);\n    } catch(e) {\n      return data;\n    }\n  }\n\n\n  function EncryptSign(){\n    this.keyName = [\n      [115, 105, 103, 110, 97, 116, 117, 114, 101],\n      [110, 111, 110, 99, 101, 115, 116, 114],\n      [97, 112, 112, 73, 100],\n      [116, 105, 109, 101, 115, 116, 97, 109, 112]\n    ];\n  }\n\n  EncryptSign.prototype.getKeyName = function(idx) {\n    var ret = '';\n    for (var i = 0; i < this.keyName[idx].length; i++) {\n      ret += String.fromCharCode(this.keyName[idx][i]);\n    }\n    return ret;\n  };\n\n  EncryptSign.prototype.sign = function(object){\n    object = object || {};\n\n    object[this.getKeyName(1)] = Math.random().toString(36).substr(2, 15);\n    object[this.getKeyName(3)] = Date.now() + +(getSession('invite-offsetTime'));\n\n    var string = qs.stringify(object, { allowDots: true, arrayFormat: 'repeat', sort: alphabeticalSort, encode: true});\n    object[this.getKeyName(2)] = 'nono';\n    string += md5(object[this.getKeyName(2)]).substr(7, 16);\n\n    object[this.getKeyName(0)] = md5(string);\n    return object;\n  }\n  window.EncryptSign = EncryptSign;\n\n})();\n\n(function() {\n\n  try {\n    new Event('test');\n  } catch(e) {\n    window.Event = function(eventName) {\n      var event = document.createEvent('Event');\n      event.initEvent(eventName, true, false);\n\n      return event;\n    }\n  }\n\n  if (typeof window.CustomEvent === \"function\") return false;\n\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\nfunction http(options){\n  options = options || {};\n\n  var TEST_HOST = 'https://m.sit.nonobank.com';\n  var HOST = /nonobank.com|mingxiaodai.com/.test(location.host) ? (location.protocol + '//' + location.host + (location.port ? ':' + location.port : '')) : TEST_HOST;\n  HOST += '/feserver';\n\n  var instance = axios.create({\n    baseURL: options.host || HOST,\n    timeout: options.timeout || 5000\n  });\n\n  var loading = new Event('loading'), loaded = new Event('loaded');\n  \n  instance.defaults.headers.common['Content-Type'] = 'application/json';\n\n  // Add a request interceptor\n  instance.interceptors.request.use(function(config) {\n\n    // Do something before request is sent\n\n    if(config.isJwt){\n      var jwt = sessionStorage.getItem('invite-jwt');\n      config.headers.jwt = jwt;\n    }\n\n    if (!config.silence) {\n      document.dispatchEvent(loading);\n    }\n    if (!config.isTime){\n      var encryptSign = new EncryptSign();\n      if(config.method == 'get'){\n        config.params = encryptSign.sign(config.params);\n      } else {\n        config.data = encryptSign.sign(config.data);\n      }\n    }\n    return config;\n  }, function(error) {\n    // Do something with request error\n    return Promise.reject(error);\n  });\n\n  // Add a response interceptor\n  instance.interceptors.response.use(function(response) {\n    // Do something with response data\n    document.dispatchEvent(loaded);\n    return response.data; \n  }, function(error) {\n    // Do something with response error\n    var error = new CustomEvent('error', {'detail': '网络不给力呦~'});\n    \n    \n    if(error.response && error.response.status === 404) {\n      document.dispatchEvent(error);\n      return;\n    }\n    if(error.response == undefined){\n      document.dispatchEvent(error);\n      return;\n    } \n    return Promise.reject(error);\n  });\n\n  return instance;\n}\n\n\n\n\n(function() {\n  // var HOST = /nonobank.com|mxdsite.com/.test(location.host) ? (location.protocol + '//' + location.host + (location.port ? ':' + location.port : '')) : 'https://m.sit.nonobank.com';\n\n  var ua = navigator.userAgent.toLowerCase(), imgSessionId;\n  var isAndroid = ua.toLowerCase().indexOf('android') > -1 || ua.toLowerCase().indexOf('adr') > -1;\n  var isWeiXin = /micromessenger/.test(ua);\n\n  var am_id = getSearch()['am_id'] || getSearch()['utm_source'] || '';\n  var approach = getSearch()['approach'] || getSearch()['utm_term'] || '';\n  var approach2 = getSearch()['approach2'] || getSearch()['utm_content'] || '';\n  var approach3 = getSearch()['approach3'] || getSearch()['utm_campaign'] || '';\n  var landing_page = getSearch()['landing_page'] || 'nonobank';\n\n  var inviteMobile = getSearch()['mobile'] || '';\n  var regtime = getSearch()['regtime'] || '';\n  var balance = getSearch()['balance'] || '';\n\n  var errortype = 0; //0: 无错 1、手机号错误 2、验证码错误 3、手机号已经注册\n  var uuid, timer = null, codeSentTime = 0, tokenId = localStorage.getItem('tongdun_token');\n\n  var $http = new http();\n\n  Vue.component('loading', {\n    props: {\n      show: {\n        type: Boolean,\n        default: false\n      },\n    },\n    template: \"<section class='popup row row-center' v-if='show'><span class='loading row row-center'><img src='images/loading.gif' width='26'></span></section>\",\n  });\n\n  Vue.directive('focus', {\n    inserted: function (el, binding) {\n      if(binding.value){\n        el.focus();\n      }\n    },\n    componentUpdated: function(el, binding) {\n      if (binding.modifiers.lazy) {\n        if (Boolean(binding.value) === Boolean(binding.oldValue)) {\n          return;\n        }\n      }\n      if (binding.value) {\n        el.focus();\n      }\n    },\n  });\n\n  var vm = new Vue({\n    el: '#app',\n    data: {\n      user: {\n        phone: '',\n        codeImg: '',\n        codeMsg:'',\n        agreement: true\n      },\n\n      imgSrc:'',\n      timeCount: -1,\n\n      isImgCode:false,\n      limTime:false,\n      isWelfare:false,\n\n      errorMsg:'',\n      focusStatus: 0, //1、图形验证码聚焦  2、短信验证码聚焦  3、手机聚焦  \n\n      jwt:'',\n      amount:'',\n      invitees:[],\n      isLoading: false\n    },\n    watch:{\n      'user.phone': function(val, oldval) {\n        vm.focusStatus = 0;\n        errortype = 0;\n        if(val.length == 11){\n          vm.checkPhone();\n          if(errortype == 0){\n            $http.get('/common/check/mobile/' + val, {silence:true}).then(function(res) {\n              if(res.succeed){\n                if(res.data.exists){\n                  vm.errorMsg = '*手机号已注册';\n                  errortype = 3;\n                } else {\n                  errortype = 0;\n                  vm.focusStatus = 1;\n                }\n              }  \n            });\n          }\n        }\n        if(codeSentTime >= 1){\n          codeSentTime = 0;\n          vm.focusStatus = 0;\n          vm.user.codeImg = '';\n          vm.user.codeMsg = '';\n          vm.timeCount = -1;\n          setTimeout(function(){\n            clearTimeout(timer);\n            vm.refreshCaptcha();\n          },0);\n        }\n      },\n      'user.codeImg': function(val, oldval){\n        if(val.length == 4){\n          vm.focusStatus = 0;\n          vm.checkPhone();\n          if(errortype == 0){\n            var params = {\n              uuid: uuid,\n              captcha: val\n            };\n            $http.get('/common/captcha/verify', {\n              params: params,\n              silence:true\n            }).then(function(res) {\n              if(res && res.succeed){\n                if (res.data.valid) {\n                  vm.getCode();\n                } else {\n                  vm.errorMsg = '*请输入正确的验证码';\n                  vm.refreshCaptcha();\n                }\n              }\n            });\n          } else {\n            vm.user.codeImg = '';\n            vm.focusStatus = 3;\n            if(vm.timeCount == -1) {\n              vm.refreshCaptcha();\n            }\n            \n          }\n        }\n      }\n\n\n    },\n\n    methods: {\n      init: function() { //初始化\n        var _this = this;\n        if(+regtime >= 100){     \n          _this.limTime = regtime;\n        }\n        if(+balance > 0){\n          _this.isWelfare = true;\n        } \n        this.getTime();\n      },\n\n      getTime: function(){\n        $http.get('/common/current', {isTime:true}).then(function(res) {\n          if (res.succeed) {\n            vm.setTime(res.data.timestamp);\n            vm.refreshCaptcha();\n          }\n        });\n      },\n\n      setTime: function(timeSys){\n        var offsetTime = timeSys - Date.now();\n        setSession('invite-offsetTime', offsetTime);\n      },\n\n      refreshCaptcha: function() {\n        vm.user.codeImg = '';\n        $http.get('/common/captcha',{silence:true}).then(function(res) {\n          if(res.succeed){\n            var data = res.data;\n            vm.imgSrc = data.captcha;\n            uuid = data.uuid;\n          } else {\n            vm.errorMsg = res.errorMessage;\n          }\n        });\n      },\n\n      checkPhone: function(){\n        var req = /1[345789]\\d{9}$/;\n        if(!this.user.phone.length){\n          this.errorMsg = '*请输入手机号';\n          errortype = 1;\n          return;\n        }\n        if(!req.test(this.user.phone)){\n          this.errorMsg = '*请输入正确的手机号';\n          errortype = 1;\n          return;\n        }\n        if (errortype == 3) {\n          this.errorMsg = '*手机号已注册';\n        }\n        \n      },\n\n      clearError: function(){\n        this.errorMsg = '';\n      },\n\n      countDown: function(t) { //倒计时\n        this.focusStatus = 0;\n        if (t >= 0) {\n          vm.timeCount = t;\n          t--;\n          timer = setTimeout(function() {\n            vm.countDown(t);\n          }, 1000);\n        }\n      },\n\n      getCode: function(){\n        var params = {\n          mobile: vm.user.phone,\n          captcha: vm.user.codeImg,\n          uuid: uuid,\n          codeType: 0,\n          tokenId: tokenId\n        }\n        $http.post('/user/v-code',params,{silence:true}).then(function(res) {\n          if(res && res.succeed){\n            codeSentTime += 1;\n            vm.timeCount = 60;\n            vm.countDown(vm.timeCount);\n            setTimeout(function(){\n              vm.focusStatus = 2;\n            },100);\n          } else {\n            codeSentTime = 0;\n            vm.focusStatus = 1;\n            vm.user.codeImg = '';\n            vm.user.codeMsg = '';\n            vm.timeCount = -1;\n            setTimeout(function(){\n              clearTimeout(timer);\n              vm.refreshCaptcha();\n            },0);\n          }\n        });\n      },  \n      doRegister: function(){\n        var params = {\n          inviteMobile: inviteMobile,\n          mobile: vm.user.phone,\n          vcode: vm.user.codeMsg,\n          tokenId: tokenId,\n          uuid: uuid,\n          captcha: vm.user.codeImg,\n          amId: am_id,\n          approach: approach,\n          approach2: approach2,\n          approach3: approach3\n        }\n        $http.post('/user/register',params).then(function(res) {\n          if(res.succeed){\n            setSession('invite-jwt',res.data.jwt);\n            location.href = 'regsuccess.html?balance='+ balance;\n          } else if(res.errorCode == '0100154'){\n            vm.errorMsg = '*请输入正确的验证码';\n          } else {\n            vm.errorMsg = res.errorMessage;\n          }\n        });\n      },\n\n      submit:function(){\n        _czc.push([\"_trackEvent\", \"注册页\", \"点击\", \"领取按钮\"]);\n\n        vm.checkPhone();\n\n        if(errortype != 0){\n          return;\n        }\n        if(this.user.codeImg.length < 4 || this.user.codeMsg.length < 4){\n          vm.errorMsg = '*请输入正确的验证码';\n          return;\n        } \n        if(!this.user.agreement){\n          vm.errorMsg = '*请阅读并勾选相关协议';\n          return;\n        }\n        vm.doRegister();\n      }\n\n    }\n  });\n  vm.init();\n\n  function setSession(name, value) {\n    try {\n      if(typeof value === 'object') {\n        value = JSON.stringify(value);\n      }\n      window.sessionStorage.setItem(name, value);\n    } catch (error) {\n      Storage.prototype._setItem = Storage.prototype.setItem;\n      Storage.prototype.setItem = function() {};\n      alert('请不要在无痕模式下打开');\n    }\n  }\n\n\n  function getSearch() {\n    if (window.location.search == '') {\n      return false;\n    }\n    var query_string = {},\n      query = window.location.search.substring(1),\n      vars = query.split(\"&\");\n\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split(\"=\");\n      // If first entry with this name\n      if (typeof query_string[pair[0]] === \"undefined\") {\n        query_string[pair[0]] = decodeURIComponent(pair[1]);\n        // If second entry with this name\n      } else if (typeof query_string[pair[0]] === \"string\") {\n        var arr = [query_string[pair[0]], decodeURIComponent(pair[1])];\n        query_string[pair[0]] = arr;\n        // If third or later entry with this name\n      } else {\n        query_string[pair[0]].push(decodeURIComponent(pair[1]));\n      }\n    }\n\n    return query_string;\n  }\n\n  //事件监听\n  function eventListener(type, handler){\n    if(document.addEventListener){\n      document.addEventListener(type, function(e){handler(e)}, false);\n    } else {\n      document.attachEvent('on' + type, function(e){handler(e)});\n    }\n  }\n\n  function handler(e) {\n    vm.toastMsg = e.detail;\n    vm.isLoading = false;\n    \n  }\n\n  eventListener('loading', function() {\n    vm.isLoading = true;\n  });\n\n  eventListener('loaded', function() {\n    vm.isLoading = false;\n  });\n\n  eventListener('error', handler);\n\n\n})();\n"]}